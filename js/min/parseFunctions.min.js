function attemptSignUp(e,n,t){var o=new Parse.User;o.set("username",e),o.set("password",n),o.set("email",t),o.signUp(null,{success:function(){console.log("Successfully signed up user")},error:function(){console.log("Something went wrong")}})}function attemptLogin(e,n){Parse.User.logIn(e,n,{success:function(){redirectPage("../activeSession/")},error:function(){swal("Oh no!","Your username or password was incorrect","error")}})}function redirectPage(e){window.location.replace(e)}function checkForSession(e){1==e?Parse.User.current()?console.log("Logged in. Continuing..."):redirectPage("../login/"):0==e&&(Parse.User.current()?redirectPage("../activeSession/"):console.log("No current session. Continuing..."))}function attemptRecipeUpload(e,n,t,o,r){var i=Parse.Object.extend("Recipe"),s=new i;s.set("name",e),s.set("rating",Math.floor(5*Math.random())),s.set("author",n),s.set("description",t),s.set("imageUrl",o),s.set("content",r),s.save(null,{success:function(){swal("Hurray!","Your recipe has been added to our collection. Thanks for your contribution!","success")},error:function(){swal("Oh no!","Something went wrong on our end, try again later!","error")}})}function attemptLogOut(){Parse.User.logOut(),redirectPage("/")}function listRecipes(e,n){var t=Parse.Object.extend("Recipe"),o=new Parse.Query(t);switch(e){case"top":o.descending("rating");break;case"recent":o.descending("createdAt");break;case"none":}null==n?console.log("No search term specified. Continuing..."):o.contains("name",n),o.find({success:function(e){console.log("Successfully retrived recipes."),output="";for(var n=0;n<e.length;n++){var t=(e[n].get("name"),e[n].get("description")),o=e[n].get("imageUrl"),r=e[n].get("itemWidthInList");output+="<div class='col-md-"+3*r+"'>",output+="<span class='grid-image'><img src='"+o+"' alt='"+t+"' /></span>",output+="<span class='grid-info'><h4>"+t+"</h4></span>",output+="</div>"}$("#main-repeat-grid").html(output)},error:function(){console.log("An error occurred when retieving recipes.")}})}Parse.initialize("Dk7wZnUjEs8i4RmwdZ0YP13DQRU6gShDa3NauSC9","hpF2KqfxESRdHaEeBkZdYEFGdBLZP1yvvD2PA3IQ"),$(document).ready(function(){Parse.User.current()&&($("#logInOut").html("<li onclick='attemptLogOut()'>Log Out</li>"),$("#logInOutNav").html("<li onclick='attemptLogOut()'>Log Out</li>"),$("#uploadId").html("<a href='activeSession/'>Upload Recipe</a>"))}),$(".form-login").submit(function(){var e=$(this).serializeArray(),n=e[0].value,t=e[1].value;return console.log("Logging in with username: "+n+" and password: "+t),attemptLogin(n,t),!1}),$(".recipe-add").submit(function(){var e=$(this).serializeArray(),n=e[0].value,t=e[1].value,o=e[2].value,r=e[3].value,i=e[4].value;return attemptRecipeUpload(n,t,o,r,i),!1}),$("#input-nolog").keypress(function(e){if(13==e.which){var n=$(this).val();listRecipes("none",n)}});