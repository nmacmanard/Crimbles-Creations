function attemptSignUp(e,t,n){var o=new Parse.User;o.set("username",e),o.set("password",t),o.set("email",n),o.signUp(null,{success:function(){console.log("Successfully signed up user")},error:function(){console.log("Something went wrong")}})}function attemptLogin(e,t){Parse.User.logIn(e,t,{success:function(){redirectPage("../activeSession/")},error:function(){swal("Oh no!","Your username or password was incorrect","error")}})}function redirectPage(e){window.location.replace(e)}function checkForSession(e){1==e?Parse.User.current()?console.log("Logged in. Continuing..."):redirectPage("../login/"):0==e&&(Parse.User.current()?redirectPage("../activeSession/"):console.log("No current session. Continuing..."))}function attemptRecipeUpload(e,t,n,o,r){var i=Parse.Object.extend("Recipe"),s=new i;s.set("name",e),s.set("rating",Math.floor(5*Math.random())),s.set("author",t),s.set("description",n),s.set("imageUrl",o),s.set("content",r),s.set("itemWidthinList",1),s.save(null,{success:function(){swal("Hurray!","Your recipe has been added to our collection. Thanks for your contribution!","success")},error:function(){swal("Oh no!","Something went wrong on our end, try again later!","error")}})}function attemptLogOut(){Parse.User.logOut(),redirectPage("/")}function listRecipes(e,t){var n=Parse.Object.extend("Recipe"),o=new Parse.Query(n);switch(e){case"top":o.descending("rating");break;case"recent":o.descending("createdAt");break;case"none":}null==t?console.log("No search term specified. Continuing..."):o.contains("name",t),o.find({success:function(e){console.log("Successfully retrived recipes."),output="";for(var t=0;t<e.length;t++){var n=(e[t].get("name"),e[t].get("description")),o=e[t].get("imageUrl"),r=e[t].get("itemWidthInList");output+="<div class='col-md-"+3*r+"'>",output+="<span class='grid-image'><img src='"+o+"' alt='"+n+"' /></span>",output+="<span class='grid-info'><h4>"+n+"</h4></span>",output+="</div>"}$("#main-repeat-grid").html(output)},error:function(){console.log("An error occurred when retieving recipes.")}})}Parse.initialize("Dk7wZnUjEs8i4RmwdZ0YP13DQRU6gShDa3NauSC9","hpF2KqfxESRdHaEeBkZdYEFGdBLZP1yvvD2PA3IQ"),$(document).ready(function(){Parse.User.current()&&($("#logInOut").html("<li onclick='attemptLogOut()'>Log Out</li>"),$("#logInOutNav").html("<li onclick='attemptLogOut()'>Log Out</li>"),$("#uploadId").html("<a href='activeSession/'>Upload Recipe</a>"))}),$(".form-login").submit(function(){var e=$(this).serializeArray(),t=e[0].value,n=e[1].value;return console.log("Logging in with username: "+t+" and password: "+n),attemptLogin(t,n),!1}),$(".recipe-add").submit(function(e){e.preventDefault();var t=$(this).serializeArray(),n=t[0].value,o=t[1].value,r=t[2].value,i=t[3].value,s=tinymce.activeEditor.getContent();return attemptRecipeUpload(n,o,r,i,s),!1}),$("#input-nolog").keypress(function(e){if(13==e.which){var t=$(this).val();listRecipes("none",t)}});